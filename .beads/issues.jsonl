{"id":"ef-0le","title":"Add multi-modal display support in chat buffer","description":"When efrit creates images, charts, or diagrams, display them inline in the chat buffer. Emacs supports inline images. Would make responses much richer.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T10:08:58.056669-08:00","updated_at":"2025-11-29T10:08:58.056669-08:00"}
{"id":"ef-1qc","title":"No HTTP error handling in streamlined mode","description":"efrit-streamlined--handle-response doesn't check status parameter for HTTP errors before parsing","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-29T10:07:05.999936-08:00","updated_at":"2025-11-29T10:07:05.999936-08:00"}
{"id":"ef-2a6","title":"Implement chat history persistence","description":"efrit-chat conversations are NOT saved (unlike efrit-do which has transcript support). Need: 1) Auto-save chat sessions to disk (similar to efrit-do transcripts), 2) efrit-chat-list-sessions command, 3) efrit-chat-resume command, 4) Export chat to markdown. The efrit-do transcript system (efrit-session-transcript.el) could be adapted for chat.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-29T10:08:45.261078-08:00","updated_at":"2025-11-29T10:10:37.935869-08:00"}
{"id":"ef-3en","title":"Create efrit-console for admin and debugging","description":"A dedicated console buffer showing: 1) Real-time API activity, 2) Tool execution logs, 3) Error stack traces, 4) Performance metrics, 5) Configuration status. Like a developer tools panel for efrit.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-29T10:08:58.099765-08:00","updated_at":"2025-11-29T10:08:58.099765-08:00"}
{"id":"ef-asy","title":"Add usage tracking and session metrics dashboard","description":"Track and display: 1) Token usage per session, 2) API costs, 3) Tool calls made, 4) Time spent, 5) Success/failure rates. Could be a dedicated *efrit-dashboard* buffer.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T10:08:45.301008-08:00","updated_at":"2025-11-29T10:08:45.301008-08:00"}
{"id":"ef-ay5","title":"Add conversation context window indicator","description":"Show how much context has been used and how much remains. Visual indicator like 'Context: 45K/100K tokens'. Warn when approaching limits.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-29T10:08:58.00939-08:00","updated_at":"2025-11-29T10:08:58.00939-08:00"}
{"id":"ef-bcn","title":"efrit-do used cl-return-from without cl-block wrapper","description":"When fixing HTTP error handling, efrit-do used cl-return-from without wrapping the function in cl-block, which would cause a runtime error. Need better elisp code validation or Claude instructions.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-29T10:08:31.280707-08:00","updated_at":"2025-11-29T10:08:31.280707-08:00"}
{"id":"ef-bg7","title":"Logic bug in streamlined continuation decision","description":"claude-signals-done incorrectly includes (and tool-uses (not has-text-content)) which prevents tool-only responses from continuing","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-29T10:07:06.034679-08:00","updated_at":"2025-11-29T10:07:06.034679-08:00"}
{"id":"ef-cnh","title":"Update efrit-chat.el commentary section","description":"Commentary section is incomplete. Needs: 1) Remove confusing self-reference about consolidation, 2) Add usage examples, 3) Describe key features and capabilities, 4) Explain difference between classic and streamlined modes, 5) Add info about dependencies.","status":"open","priority":4,"issue_type":"task","created_at":"2025-11-29T10:11:18.761523-08:00","updated_at":"2025-11-29T10:11:18.761523-08:00"}
{"id":"ef-ea0","title":"Streamlined chat doesn't show response when tool returns buffer object","description":"","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-29T10:04:44.102142-08:00","updated_at":"2025-11-29T10:04:44.102142-08:00"}
{"id":"ef-f9s","title":"Missing HTTP response buffer cleanup in streamlined mode","description":"efrit-streamlined--handle-response doesn't clean up the HTTP response buffer, causing memory leaks","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-29T10:07:05.970427-08:00","updated_at":"2025-11-29T10:07:05.970427-08:00"}
{"id":"ef-fal","title":"Add conversation branching support","description":"Allow users to go back to earlier points in conversation and branch off in a different direction, preserving both branches. Like git for conversations.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-11-29T10:08:58.13559-08:00","updated_at":"2025-11-29T10:08:58.13559-08:00"}
{"id":"ef-iwd","title":"Add retry and error recovery UX","description":"When API calls fail, offer: 1) Clear retry button/command, 2) Automatic retry with backoff, 3) Show error details but don't interrupt flow. Current error handling dumps user out of conversation.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T10:08:45.415682-08:00","updated_at":"2025-11-29T10:08:45.415682-08:00"}
{"id":"ef-jq2","title":"Add token usage tracking to session metrics","description":"efrit-session-metrics tracks API call count but not token usage. Need to: 1) Capture input/output token counts from API responses, 2) Track cumulative token usage per session, 3) Show token usage in dashboard/summary, 4) Calculate approximate cost based on model rates.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T10:10:37.980802-08:00","updated_at":"2025-11-29T10:10:37.980802-08:00"}
{"id":"ef-kc6","title":"Add slash command system like Claude Code","description":"Support /commands in chat for quick actions: /clear, /model, /help, /cost, /export, /context, etc. Make chat more interactive and discoverable.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-29T10:08:45.37878-08:00","updated_at":"2025-11-29T10:08:45.37878-08:00"}
{"id":"ef-nan","title":"efrit-chat-clear should work from any buffer","description":"efrit-chat-clear errors with 'Not in an Efrit chat buffer' when called from a different buffer. Should either: 1) Switch to chat buffer and clear it, or 2) Accept buffer name argument. UX issue - user shouldn't need to be in chat buffer to clear it.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-29T10:11:18.71562-08:00","updated_at":"2025-11-29T10:11:18.71562-08:00"}
{"id":"ef-uzk","title":"Add @-mention context inclusion like Cursor/Claude Code","description":"Support @filename or @symbol to explicitly include context. @efrit-chat.el would add that file to context. @function-name would find and include that function.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T10:08:58.172877-08:00","updated_at":"2025-11-29T10:08:58.172877-08:00"}
{"id":"ef-w1e","title":"UTF-8 character encoding broken for em-dash and special chars","description":"","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-29T10:04:44.14572-08:00","updated_at":"2025-11-29T10:04:44.14572-08:00"}
{"id":"ef-wap","title":"Add streaming response support for real-time feedback","description":"Currently responses appear all at once. Add streaming support so users see text appear incrementally, like Claude Code. Shows Claude is working and makes long responses feel faster.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T10:08:45.341956-08:00","updated_at":"2025-11-29T10:08:45.341956-08:00"}
{"id":"ef-wu6","title":"Consolidate efrit-chat modes into single robust implementation","description":"Two chat modes exist: classic (efrit-chat/efrit-send-message) and streamlined (efrit-streamlined-send). The streamlined mode has multiple bugs (race conditions, missing cleanup, no HTTP error handling) and uses fragile global state. Classic mode is more robust.\n\nRecommendation: Keep classic mode as the single implementation, adding the useful work buffer logging from streamlined mode. Remove streamlined mode entirely.\n\nBenefits:\n- Single code path to maintain\n- Fix bugs once\n- Consistent UX\n- No race conditions from global state\n\nThe work buffer from streamlined mode (for debugging/logging) should be ported to classic mode as an optional feature.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-29T10:23:15.719111-08:00","updated_at":"2025-11-29T10:23:15.719111-08:00"}
{"id":"ef-x1c","title":"Race condition with global streamlined variables","description":"efrit-streamlined--current-messages and efrit-streamlined--turn-count are global vars that could cause issues with concurrent requests","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-29T10:07:06.069338-08:00","updated_at":"2025-11-29T10:07:06.069338-08:00"}
